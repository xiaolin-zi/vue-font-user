(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{520:function(t,e,n){"use strict";n.r(e);n(138);var l=n(97),o=function(){return Object(l.a)({url:"/eduservice/msg/findAllMsg",method:"get"})},c=function(t,e){return Object(l.a)({url:"/eduservice/msg/findAllMsg/".concat(t,"/").concat(e),method:"get"})},r=function(t){return Object(l.a)({url:"/eduservice/msg/sendMsg/".concat(t),method:"get"})},m={data:function(){return{msgMap:{},page:1,limit:5,total:0,mymessage:""}},created:function(){this.getAllMsg()},methods:{changeSize:function(t){console.log(t),this.limit=t,this.getAllMsg(1)},getAllMsgPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,c(this.page,this.limit).then((function(e){console.log(t),t.msgMap=e.data.data.msgMap,t.total=e.data.data.total,console.log(t.msgMap)}))},getAllMsg:function(){var t=this;o().then((function(e){console.log(t),t.msgMap=e.data.data.msgMap,console.log(t.msgMap)}))},sendMsg:function(){var t=this;r(this.mymessage).then((function(e){console.log(e),t.$message({message:"留言成功",type:"success"}),t.getAllMsg()}))}}},d=m,f=n(23),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"block",staticStyle:{width:"50%",margin:"50px auto"}},[e("div",{staticStyle:{"margin-bottom":"50px"}},[e("h3",{staticStyle:{"font-size":"14px"}},[t._v("留言板")]),t._v(" "),e("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.mymessage,callback:function(e){t.mymessage=e},expression:"mymessage"}}),t._v(" "),e("el-button",{staticStyle:{float:"right","margin-top":"10px"},attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.sendMsg.apply(null,arguments)}}},[t._v("留言")])],1),t._v(" "),e("el-timeline",t._l(t.msgMap,(function(n,l){return e("el-timeline-item",{key:l,attrs:{timestamp:l,placement:"top"}},t._l(n,(function(n){return e("el-card",{key:n.id,staticStyle:{"margin-bottom":"10px"}},[e("h4",[t._v(t._s(n.message))]),t._v(" "),e("p",{staticStyle:{"font-size":"10px",float:"right"}},[e("span",{staticStyle:{color:"rgb(251, 124, 161)"}},[t._v(t._s(n.nickname)+" ")]),t._v("发表于"),e("span",{staticStyle:{color:"#5a5e66"}},[t._v(" "+t._s(n.gmtCreate))])])])})),1)})),1),t._v(" "),e("el-backtop")],1)}),[],!1,null,null,null);e.default=component.exports}}]);